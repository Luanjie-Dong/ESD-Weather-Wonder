_format_version: "3.0"

include:
  - user.yaml
  - user-location.yaml
  - location-weather.yaml
  - add-location.yaml
    

#######################################
# AUTHENTICATION KEY
#######################################
consumers:
  - username: weatherwonder_app
    keyauth_credentials:
      - key: abc123xyz

#######################################
# PLUGINS
#######################################
plugins:
  - name: rate-limiting
    config:
      minute: 100
      policy: "local"
      limit_by: "ip"
  - name: cors
    config:
      origins:
        - "*"  
      methods:
        - GET
        - POST
        - PUT
        - DELETE
        - OPTIONS
      headers:
        - Authorization
        - Content-Type
      credentials: false  
      max_age: 3600